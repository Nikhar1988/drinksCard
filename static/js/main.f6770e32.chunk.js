(this["webpackJsonpcard-js-task"]=this["webpackJsonpcard-js-task"]||[]).push([[0],{168:function(t,e,r){"use strict";r.r(e);var n=r(17),i=r.n(n),s=r(40),c=r(0),a=(r(94),r(95),r(25)),o=r(45),u=r(29),d=r.n(u),l=r(41),k=r(44),j=function(){var t=Object(l.a)(d.a.mark((function t(e,r){var n,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Server Error");case 6:return t.next=8,n.json();case 8:return i=t.sent,t.abrupt("return",i.drinks);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",r(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}(),f=function(){var t=Object(l.a)(d.a.mark((function t(e,r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,r);case 2:return n=t.sent,t.abrupt("return",n.map((function(t){return{id:t.idDrink,title:t.strDrink,image:t.strDrinkThumb,isLiked:!1}})).slice(0,20));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=Object(k.b)("drinkControl/fetchDrinks",function(){var t=Object(l.a)(d.a.mark((function t(e,r){var n,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.rejectWithValue,t.next=3,f("https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=Cocktail",n);case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),p=Object(k.c)({name:"drinkControl",initialState:{drinkList:[],status:null,error:null,showLikesDrinkStatus:!1,likeDrinkList:[]},reducers:{likeDrinks:function(t,e){var r=t.drinkList,n=t.likeDrinkList,i=r.findIndex((function(t){return t.id===e.payload})),c=Object(s.a)(Object(s.a)({},r[i]),{},{isLiked:!r[i].isLiked});t.drinkList=[].concat(Object(o.a)(r.slice(0,i)),[c],Object(o.a)(r.slice(i+1)));var a=n.findIndex((function(t){return t.id===e.payload}));t.likeDrinkList=[].concat(Object(o.a)(n.slice(0,a)),Object(o.a)(n.slice(a+1)))},removeDrink:function(t,e){t.drinkList=t.drinkList.filter((function(t){return t.id!==e.payload})),t.likeDrinkList=t.likeDrinkList.filter((function(t){return t.id!==e.payload}))},toggleShowLikesDrinks:function(t,e){e.payload&&(t.likeDrinkList=t.drinkList.filter((function(t){return t.isLiked===e.payload}))),t.showLikesDrinkStatus=!t.showLikesDrinkStatus}},extraReducers:function(t){t.addCase(b.pending,(function(t){t.status="loading",t.error=null})),t.addCase(b.fulfilled,(function(t,e){t.status="resolved",t.drinkList=e.payload})),t.addCase(b.rejected,(function(t,e){t.error=e.payload,t.status="rejected"}))}}),h=p.actions,O=h.likeDrinks,x=h.removeDrink,v=h.toggleShowLikesDrinks,L=p.reducer,w=r(171),D=r(174),m=r(175),y=r(9),g=function(t){var e=t.id,r=t.title,n=t.image,i=t.isLiked,s=w.a.Meta,c=Object(a.b)(),o=i?"#eb2f96":"#B6ADAC";return Object(y.jsx)(w.a,{style:{width:250,height:300,margin:"0px 20px 20px 0px"},cover:Object(y.jsx)("img",{alt:"drink",src:n,width:"200px",height:"200px"}),actions:[Object(y.jsx)(D.a,{style:{color:o},onClick:function(){return function(t){c(O(t))}(e)}}),Object(y.jsx)(m.a,{onClick:function(){return function(t){c(x(t))}(e)}})],children:Object(y.jsx)(s,{title:r})})},C=r(173),S=function(t){var e=t.showLikesDrinkStatus,r=Object(a.b)();return Object(y.jsx)("div",{children:Object(y.jsx)(C.a,{type:"primary",onClick:function(){r(v(!e))},children:"Show favorite drinks"})})},E=function(){var t=Object(a.c)((function(t){return t.drinks})),e=t.drinkList,r=t.error,n=t.status,i=t.showLikesDrinkStatus,o=t.likeDrinkList,u=Object(a.b)();Object(c.useEffect)((function(){u(b())}),[u]);var d=i?o:e;return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)("div",{className:"button-style",children:Object(y.jsx)(S,{showLikesDrinkStatus:i})}),Object(y.jsxs)("div",{className:"listCard-style",children:["loading"===n&&Object(y.jsx)("h2",{children:"Loading..."}),r&&Object(y.jsxs)("h2",{children:["An error occured: ",r]}),0===o.length&&i?Object(y.jsx)("h2",{children:"There are no card elements"}):d.map((function(t){return Object(c.createElement)(g,Object(s.a)(Object(s.a)({},t),{},{key:t.id}))}))]})]})},A=Object(k.a)({reducer:{drinks:L}});i.a.render(Object(y.jsx)(a.a,{store:A,children:Object(y.jsx)(E,{})}),document.getElementById("root"))},95:function(t,e,r){}},[[168,1,2]]]);
//# sourceMappingURL=main.f6770e32.chunk.js.map